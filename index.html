<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width , initial-scale=1">
    <link rel="stylesheet" href="./static/css/style.css" type="text/css" />
    <link rel="stylesheet" href="./static/css/bootstrap.min.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="./static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="./lib/bignumber.min.js"></script>
    <script type="text/javascript" src="./lib/web3-light.js"></script>
    <script type="text/javascript" src="./static/js/myContract.js"></script>
    <script type="text/javascript">

        //  javascript에서 geth 함수를 호출할 수 있도록 Web3 객체를 생성

        // (스마트)컨트랙트 함수를 호출할 수 있도록 컨트랙트가 저장된 주소와 컨트랙트의 abi 값을 활용해서 컨트랙트 객체 생성

        // 생성한 계정(지갑주소)에 지급할 초기 토큰 값, 컨트랙트 함수 호출시 제한할 가스량을 상수로 정의

        function makeAccountsSelect() {
            // geth의 노드와 컨트랙트로부터 지갑주소의 eth와 토큰 보유량 불러오기
        }

        function showApmtList() {
            // 컨트랙트로부터 약속 목록 불러오기
        }
        function insertForTable(table, arr) {
            // <body>에 정의한 약속 목록 테이블에 약속 목록 값 갱신하기
        }

        function watchInitTokenResponded(address, successMsg, failMsg) {
            // 컨트랙트에서 새 지갑주소에 초기 토큰 값 지급을 요청했을 때 응답받고 화면에 보여주기
        }
        function watchFilter(filterOption, successMsg, failMsg) {
            // geth에서 블록이 생성되었을 때 응답받고 화면에 보여주기
        }
        function watchApmtAdded(address, successMsg, failMsg) {
            // 컨트랙트에서 약속 생성을 요청했을 때 응답받고 화면에 보여주기
        }
        function watchJoinedApmt(address, successMsg, failMsg) {
            // 컨트랙트에서 사용자가 약속에 참가한다고 표시하는 요청했을 때 응답받고 화면에 보여주기
        }
        function watchAttendedApmt(address, successMsg, failMsg) {
            // 컨트랙트에서 사용자가 약속에 참가했다고 표시하는 요청했을 때 응답받고 화면에 보여주기
        }
        function watchEndedApmt(address, successMsg, failMsg) {
            // 컨트랙트에서 약속 주관자가 약속 종료를 요청했을 때 응답받고 화면에 보여주기
        }

        function createAccount() {
            // 계정(지갑주소)를 생성
        }

        function executeNewAccount(passphrase) {
            // geth에 지갑주소 생성을 요청
        }

        function requestInitEther(address, passphrase) {
            // 새 계정(지갑주소)에 트랜잭션을 생성할 수 있도록 기본 eth 지급
        }

        function requestInitToken() {
            // 초기 토큰 요청
        }

        function apmtCreate() {
            // 약속 생성
        }

        function checkEnoughBalance(address, token) {
            // 토큰 보유량이 충분한지 확인
        }

        function apmtJoin(apmtId) {
            // 약속에 참가한다고 표시하는 요청
        }

        function apmtAttend(apmtId) {
            // 약속에 참가했다고 표시하는 요청
        }

        function apmtEnd(apmtId) {
            // 약속 종료 요청
        }
    </script>
</head>

<body>
    <nav class="navbar navbar-default">
        <div class="navbar-header">
            <!-- 화면이 작을 때 보여줄 대체 버튼 추가 -->
        </div>
        <div class="collapse navbar-collapse" id="apmt-example-navbar-collapse-1">
            <!-- 계정(지갑주소) 관리 버튼 추가 -->
            <!-- 계정(지갑주소) 보여주고 선택할 수 있는 드랍다운 추가 -->
        </div>
    </nav>

    <div class="container">
        <h4>※ 사용법은 하단에 작성되어 있습니다.</h4>
        <div class="row">
            <div style="width: 100%; margin: auto;">
                <h1>약속 관리</h1>
                <!-- 약속 제목, 참가 보증금 입력하는 텍스트박스와 약속 등록하는 버튼 추가 -->
                <!-- 약속 목록을 보여주는 테이블 추가 -->
            </div>
        </div>
        <hr>
        <h1>사용법</h1>
        <h4>&lt;공통 사항&gt;</h4>
        1. 모든 버튼 클릭시 '비밀번호'를 입력 해야합니다.
        <h4>&lt;계정관리 - 계정 생성&gt;</h4>
        1. 우측 상단의 '계정 관리' 버튼을 누릅니다.<br>
        2. '계정 생성하기' 버튼을 누릅니다.
        <h4>&lt;계정관리 - 신규 계정 토큰 요청&gt;</h4>
        1. 우측 상단의 '계정 관리' 버튼을 누릅니다.<br>
        2. '신규 계정 토큰 요청' 버튼을 누릅니다.
        <h4>&lt;약속 등록하기&gt;</h4>
        1. '약속 제목'과 '약속 참가 보증금'을 입력합니다.<br>
        2. '약속 등록하기' 버튼을 누릅니다.
        <h4>&lt;약속 참가 신청하기 / 참석하기 / 마감하기 - 공통사항&gt;</h4>
        ※ 토큰이 필요합니다.
        <h4>&lt;약속 관리 - 약속 참가 신청하기&gt;</h4>
        1. 약속관리 목록에서 참가 신청 항목 아래 '신청하기' 버튼을 누릅니다.
        <h4>&lt;약속 관리 - 약속 참석하기&gt;</h4>
        1. 약속관리 목록에서 참석 확인 항목 아래 '참석완료' 버튼을 누릅니다.
        <h4>&lt;약속 관리 - 약속 마감하기&gt; </h4>
        1. 약속관리 목록에서 마감 신청 항목 아래 '마감하기' 버튼을 누릅니다.
        <br>
        <br>
    </div>

    <script>
        // 선택할 수 있는 계정(지갑주소) 불러오기
        // 약속 목록 불러오기
    </script>
</body>

</html>